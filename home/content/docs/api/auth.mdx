---
title: Auth
description: Authentication resources.
full: false
_openapi:
  toc:
    - depth: 2
      title: Auth Provider List
      url: '#auth-provider-list'
    - depth: 2
      title: Auth Password Signup
      url: '#auth-password-signup'
    - depth: 2
      title: Auth Password Signin
      url: '#auth-password-signin'
    - depth: 2
      title: Auth Password Create
      url: '#auth-password-create'
    - depth: 2
      title: Auth Password Update
      url: '#auth-password-update'
    - depth: 2
      title: Auth Password Reset
      url: '#auth-password-reset'
    - depth: 2
      title: Auth Email Password Signup
      url: '#auth-email-password-signup'
    - depth: 2
      title: Auth Email Password Signin
      url: '#auth-email-password-signin'
    - depth: 2
      title: Auth Password Reset Request Email
      url: '#auth-password-reset-request-email'
    - depth: 2
      title: Auth Email Signup
      url: '#auth-email-signup'
    - depth: 2
      title: Auth Email Signin
      url: '#auth-email-signin'
    - depth: 2
      title: Auth Email Verify
      url: '#auth-email-verify'
    - depth: 2
      title: O Auth Provider Callback
      url: '#o-auth-provider-callback'
    - depth: 2
      title: Web Authn Request Credential
      url: '#web-authn-request-credential'
    - depth: 2
      title: Web Authn Make Credential
      url: '#web-authn-make-credential'
    - depth: 2
      title: Web Authn Get Assertion
      url: '#web-authn-get-assertion'
    - depth: 2
      title: Web Authn Make Assertion
      url: '#web-authn-make-assertion'
    - depth: 2
      title: Phone Request Code
      url: '#phone-request-code'
    - depth: 2
      title: Phone Submit Code
      url: '#phone-submit-code'
    - depth: 2
      title: Access Key List
      url: '#access-key-list'
    - depth: 2
      title: Access Key Create
      url: '#access-key-create'
    - depth: 2
      title: Access Key Delete
      url: '#access-key-delete'
    - depth: 2
      title: Auth Provider Logout
      url: '#auth-provider-logout'
  structuredData:
    headings:
      - content: Auth Provider List
        id: auth-provider-list
      - content: Auth Password Signup
        id: auth-password-signup
      - content: Auth Password Signin
        id: auth-password-signin
      - content: Auth Password Create
        id: auth-password-create
      - content: Auth Password Update
        id: auth-password-update
      - content: Auth Password Reset
        id: auth-password-reset
      - content: Auth Email Password Signup
        id: auth-email-password-signup
      - content: Auth Email Password Signin
        id: auth-email-password-signin
      - content: Auth Password Reset Request Email
        id: auth-password-reset-request-email
      - content: Auth Email Signup
        id: auth-email-signup
      - content: Auth Email Signin
        id: auth-email-signin
      - content: Auth Email Verify
        id: auth-email-verify
      - content: O Auth Provider Callback
        id: o-auth-provider-callback
      - content: Web Authn Request Credential
        id: web-authn-request-credential
      - content: Web Authn Make Credential
        id: web-authn-make-credential
      - content: Web Authn Get Assertion
        id: web-authn-get-assertion
      - content: Web Authn Make Assertion
        id: web-authn-make-assertion
      - content: Phone Request Code
        id: phone-request-code
      - content: Phone Submit Code
        id: phone-submit-code
      - content: Access Key List
        id: access-key-list
      - content: Access Key Create
        id: access-key-create
      - content: Access Key Delete
        id: access-key-delete
      - content: Auth Provider Logout
        id: auth-provider-logout
    contents:
      - content: >
          Retrieve a list of authentication providers. Storyden supports a few

          ways to authenticate, from simple passwords to OAuth and WebAuthn.
          This

          endpoint tells a client which auth capabilities are enabled.
        heading: auth-provider-list
      - content: Register a new account with a username and password.
        heading: auth-password-signup
      - content: Sign in to an existing account with a username and password.
        heading: auth-password-signin
      - content: |
          Given the requesting account does not have a password authentication,
          add a password authentication method to it with the given password.
        heading: auth-password-create
      - content: |
          Given the requesting account has a password authentication, update the
          password on file.
        heading: auth-password-update
      - content: |
          Complete a password-reset flow using a token that was provided to the
          member via a reset request operation such as `AuthEmailPasswordReset`.
        heading: auth-password-reset
      - content: Register a new account with a email and password.
        heading: auth-email-password-signup
      - content: Sign in to an existing account with a email and password.
        heading: auth-email-password-signin
      - content: >
          Request password reset email to be sent to the specified email
          address.
        heading: auth-password-reset-request-email
      - content: >
          Register a new account with an email and optional password. The
          password

          requirement is dependent on how the instance is configured for account

          authentication with email addresses (password vs magic link.)


          When the email address has not been registered, this endpoint will
          send

          a verification email however it will also return a session cookie to

          facilitate pre-verification usage of the platform. If the email
          address

          already exists, no session cookie will be returned in order to prevent

          arbitrary account control by a malicious actor. In this case, the
          email

          will be sent again with the same OTP for the case where the user has

          cleared their cookies or switched device but hasn't yet verified due
          to

          missing the email or a delivery failure. In this sense, the endpoint
          can

          act as a "resend verification email" operation as well as
          registration.


          In the first case, a 200 response is provided with the session cookie,

          in the second case, a 422 response is provided without a session
          cookie.


          Given that this is an unauthenticated endpoint that triggers an email
          to

          be sent to any public address, it MUST be heavily rate limited.
        heading: auth-email-signup
      - content: >
          Sign in to an existing account with an email and optional password.
          The

          behaviour of this endpoint depends on how the instance is configured.
          If

          email+password is the preferred method, a cookie is returned on
          success

          but if magic links are preferred, the endpoint will start the code
          flow.
        heading: auth-email-signin
      - content: |
          Verify an email address using a token that was emailed to one of the
          account's email addresses either set via sign up or added later.
        heading: auth-email-verify
      - content: OAuth2 callback.
        heading: o-auth-provider-callback
      - content: |
          Start the WebAuthn registration process by requesting a credential.
        heading: web-authn-request-credential
      - content: Complete WebAuthn registration by creating a new credential.
        heading: web-authn-make-credential
      - content: Start the WebAuthn assertion for an existing account.
        heading: web-authn-get-assertion
      - content: Complete the credential assertion and sign in to an account.
        heading: web-authn-make-assertion
      - content: >
          Start the authentication flow with a phone number. The handler will
          send

          a one-time code to the provided phone number which must then be sent
          to

          the other phone endpoint to verify the number and validate the
          account.
        heading: phone-request-code
      - content: >
          Complete the phone number authentication flow by submitting the
          one-time

          code that was sent to the user's phone.
        heading: phone-submit-code
      - content: >
          List all access keys for the authenticated account or all access keys

          that have been issued for the entire instance if and only if the
          request

          parameters specify all keys and the requesting account is an admin.
        heading: access-key-list
      - content: >
          Create a new access key for the authenticated account. Access keys are

          used to authenticate API requests on behalf of the account in a more

          granular and service-friendly way than a session cookie.


          Access keys share the same roles and permissions as the owning account

          and only provide a way to use an `Authorization` header as an way of

          interacting with the Storyden API.


          Access keys also allow an expiry date to be set to limit how long a
          key

          can be used to authenticate against the API.
        heading: access-key-create
      - content: |
          Revoke an access key. This will immediately invalidate the key and it
          will no longer be usable for authentication.
        heading: access-key-delete
      - content: >
          Performs a HTTP logout by clearing the session cookie and redirecting
          to

          to the requested path at the frontend's `WEB_ADDRESS`. Typically this

          may be a secondary logout route on the frontend implementation that
          can

          handle any frontend-specific logout tasks. This is necessary in cases

          where the frontend is running on a different origin to the API service

          such as api.site.com vs site.com because Clear-Site-Data and other

          headers are same-origin compliant and won't work cross-origin.
        heading: auth-provider-logout
---

{/* This file was generated by Fumadocs. Do not edit this file directly. Any changes should be made by running the generation command again. */}

Authentication resources.

<APIPage document={"../api/openapi.yaml"} operations={[{"path":"/auth","method":"get"},{"path":"/auth/password/signup","method":"post"},{"path":"/auth/password/signin","method":"post"},{"path":"/auth/password","method":"post"},{"path":"/auth/password","method":"patch"},{"path":"/auth/password/reset","method":"post"},{"path":"/auth/email-password/signup","method":"post"},{"path":"/auth/email-password/signin","method":"post"},{"path":"/auth/email-password/reset","method":"post"},{"path":"/auth/email/signup","method":"post"},{"path":"/auth/email/signin","method":"post"},{"path":"/auth/email/verify","method":"post"},{"path":"/auth/oauth/{oauth_provider}/callback","method":"post"},{"path":"/auth/webauthn/make/{account_handle}","method":"get"},{"path":"/auth/webauthn/make","method":"post"},{"path":"/auth/webauthn/assert/{account_handle}","method":"get"},{"path":"/auth/webauthn/assert","method":"post"},{"path":"/auth/phone","method":"post"},{"path":"/auth/phone/{account_handle}","method":"put"},{"path":"/auth/access-keys","method":"get"},{"path":"/auth/access-keys","method":"post"},{"path":"/auth/access-keys/{access_key_id}","method":"delete"},{"path":"/auth/logout","method":"get"}]} webhooks={[]} hasHead={true} />